import React from 'react';
import './style.scss';

class LikePopup extends React.Component<any, any> {
  private windowLifetime = 5000;

  componentWillMount() {
    document.body.classList.add('click-through');
  }

  componentDidMount() {
    setTimeout(() => {
      this.props.lofi.hideLikePopupWindow();
    }, this.windowLifetime);
  }

  constructor(props: any) {
    super(props);
  }

  render() {
    let icon = getLikeIcon(this.props.liked);
    let item = this.props.currentlyPlaying;

    return (
      <div className="like-popup-wnd click-through">
        <div className="like-popup-wrapper">
          <div id="icon">{icon}</div>
          <div id="name">
            {item.artists[0].name} - {item.name}
          </div>
        </div>
      </div>
    );
  }
}

function getLikeIcon(liked: boolean): JSX.Element {
  if (liked) {
    return (
      <svg viewBox="0 -28 512.001 512" xmlns="http://www.w3.org/2000/svg">
        <path
          fill="white"
          stroke="white"
          d="m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"
        />
      </svg>
    );
  } else {
    return (
      <svg
        id="Layer_1"
        data-name="Layer 1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 485"
      >
        <defs>
          <style>
            .cls-1&#123;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:34px;&#125;
          </style>
        </defs>
        <title>noheart</title>
        <path
          fill="white"
          stroke="white"
          d="M256,483.52a30,30,0,0,1-19.79-7.44C215.52,458,195.58,441,178,426l-.09-.07C126.32,382,81.77,344,50.78,306.61,16.14,264.81,0,225.17,0,181.87,0,139.8,14.43,101,40.62,72.58,67.12,43.83,103.49,28,143,28c29.56,0,56.62,9.34,80.45,27.77a164.53,164.53,0,0,1,32.52,34,164.57,164.57,0,0,1,32.53-34C312.35,37.34,339.42,28,369,28c39.54,0,75.91,15.83,102.42,44.58C497.58,101,512,139.8,512,181.87c0,43.3-16.13,82.94-50.78,124.74-31,37.4-75.53,75.35-127.1,119.31-17.63,15-37.6,32-58.33,50.17A30,30,0,0,1,256,483.52ZM143,58C112,58,83.43,70.39,62.66,92.91,41.59,115.76,30,147.36,30,181.87c0,36.42,13.53,69,43.88,105.61,29.33,35.39,73,72.57,123.48,115.62l.09.08c17.66,15.05,37.68,32.11,58.52,50.33,21-18.25,41-35.34,58.7-50.42,50.52-43,94.14-80.22,123.47-115.61C468.48,250.86,482,218.29,482,181.87c0-34.51-11.6-66.11-32.67-89C428.58,70.39,400,58,369,58c-22.76,0-43.65,7.24-62.1,21.5-16.44,12.72-27.89,28.8-34.61,40.05a18.93,18.93,0,0,1-32.52,0c-6.71-11.25-18.17-27.33-34.61-40.05C186.68,65.23,165.79,58,143,58Z"
          transform="translate(0 -5)"
        />
        <line className="cls-1" x1="493" y1="17" x2="20" y2="468" />
      </svg>
    );
  }
}

export default LikePopup;
